<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>坦克大战</title>
    <style>
        .tank {
            position: absolute;
            border:1px solid black
        }

        .wall {
            position: absolute;
        }
    </style>
    <script>
        function letmove() {
            tank = document.getElementById("tank")
            key = event.keyCode
            //alert(key)//w87  s83  a65  d68 空格32
            if (key == 32) {
                b=document.getElementById("b")
                b.style.display="block"
                left=parseInt(b.style.left)
                topp=parseInt(b.style.top)
                b.style.left=parseInt(tank.style.left)+50+"px"
                b.style.top=parseInt(tank.style.top)+50+"px"
                if(tank.src.indexOf("up.jpg") != -1){function n(){b.style.top=topp - 10 +"px"}}
                if(tank.src.indexOf("down.jpg") != -1){function n(){b.style.top=topp + 10 +"px"}}
                if(tank.src.indexOf("left.jpg") != -1){function n(){b.style.left=left - 10 +"px"}}
                if(tank.src.indexOf("right.jpg") != -1){function n(){b.style.left=left + 10 +"px"}}
                handle=setInterval(function(){
                    b=document.getElementById("b")
                    left=parseInt(b.style.left)
                    topp=parseInt(b.style.top)
                    n()
                    if(parseInt(b.style.left)>1500||parseInt(b.style.left)<0||parseInt(b.style.top)>700||parseInt(b.style.top)<0) {
                        clearInterval(handle)
                        b.style.display = "none"
                    }
                },10)
            }
            if (key == 87) {//上
                if (parseInt(tank.style.top) > 0) {
                    if(parseInt(tank.style.top)==500){
                        if(parseInt(tank.style.left)>=200){
                            if (tank.src.indexOf("up.jpg") != -1) {
                                tank.style.top = (parseInt(tank.style.top) - 10) + "px"
                            } else {
                                tank.src = "up.jpg"
                            }
                        }else if(parseInt(tank.style.left)<=0){
                            if (tank.src.indexOf("up.jpg") != -1) {
                                tank.style.top = (parseInt(tank.style.top) - 10) + "px"
                            } else {
                                tank.src = "up.jpg"
                            }
                        }else{
                            tank.src = "up.jpg"
                        }
                    }else if(parseInt(tank.style.top)==400){
                        if(parseInt(tank.style.left)>=500){
                            if (tank.src.indexOf("up.jpg") != -1) {
                                tank.style.top = (parseInt(tank.style.top) - 10) + "px"
                            } else {
                                tank.src = "up.jpg"
                            }
                        }else if(parseInt(tank.style.left)<=300){
                            if (tank.src.indexOf("up.jpg") != -1) {
                                tank.style.top = (parseInt(tank.style.top) - 10) + "px"
                            } else {
                                tank.src = "up.jpg"
                            }
                        }else{
                            tank.src = "up.jpg"
                        }
                    }else{
                        if (tank.src.indexOf("up.jpg") != -1) {
                            tank.style.top = (parseInt(tank.style.top) - 10) + "px"
                        } else {
                            tank.src = "up.jpg"
                        }
                    }
                }
            }
            if (key == 83) {//下
                if (parseInt(tank.style.top) < 600) {
                    if(parseInt(tank.style.top)==100){
                        if(parseInt(tank.style.left)>=200){
                            if (tank.src.indexOf("down.jpg") != -1) {
                                tank.style.top = (parseInt(tank.style.top) + 10) + "px"
                            } else {
                                tank.src = "down.jpg"
                            }
                        }else if(parseInt(tank.style.left)<=0){
                            if (tank.src.indexOf("down.jpg") != -1) {
                                tank.style.top = (parseInt(tank.style.top) + 10) + "px"
                            } else {
                                tank.src = "down.jpg"
                            }
                        }else{
                            tank.src = "down.jpg"
                        }
                    }else if(parseInt(tank.style.top)==200){
                        if(parseInt(tank.style.left)>=500){
                            if (tank.src.indexOf("down.jpg") != -1) {
                                tank.style.top = (parseInt(tank.style.top) + 10) + "px"
                            } else {
                                tank.src = "down.jpg"
                            }
                        }else if(parseInt(tank.style.left)<=300){
                            if (tank.src.indexOf("down.jpg") != -1) {
                                tank.style.top = (parseInt(tank.style.top) + 10) + "px"
                            } else {
                                tank.src = "down.jpg"
                            }
                        }else{
                            tank.src = "down.jpg"
                        }
                    }else{
                        if (tank.src.indexOf("down.jpg") != -1) {
                            tank.style.top = (parseInt(tank.style.top) + 10) + "px"
                        } else {
                            tank.src = "down.jpg"
                        }
                    }
                }
            }
            if (key == 65) {//左
                if (parseInt(tank.style.left) > 0) {
                    if(parseInt(tank.style.left)==200){
                        if(parseInt(tank.style.top)>=500){
                            if (tank.src.indexOf("left.jpg") != -1) {
                                tank.style.left = (parseInt(tank.style.left) - 10) + "px"
                            } else {
                                tank.src = "left.jpg"
                            }
                        }else if(parseInt(tank.style.top)<=100){
                            if (tank.src.indexOf("left.jpg") != -1) {
                                tank.style.left = (parseInt(tank.style.left) - 10) + "px"
                            } else {
                                tank.src = "left.jpg"
                            }
                        }else{
                            tank.src = "left.jpg"
                        }
                    }else if(parseInt(tank.style.left)==500){
                        if(parseInt(tank.style.top)>=400){
                            if (tank.src.indexOf("left.jpg") != -1) {
                                tank.style.left = (parseInt(tank.style.left) - 10) + "px"
                            } else {
                                tank.src = "left.jpg"
                            }
                        }else if(parseInt(tank.style.top)<=200){
                            if (tank.src.indexOf("left.jpg") != -1) {
                                tank.style.left = (parseInt(tank.style.left) - 10) + "px"
                            } else {
                                tank.src = "left.jpg"
                            }
                        }else{
                            tank.src = "left.jpg"
                        }
                    }else{
                        if (tank.src.indexOf("left.jpg") != -1) {
                            tank.style.left = (parseInt(tank.style.left) - 10) + "px"
                        } else {
                            tank.src = "left.jpg"
                        }
                    }
                }
            }
            if (key == 68) {//右
                if (parseInt(tank.style.left) < 1400) {
                    if(parseInt(tank.style.left)==0){
                        if(parseInt(tank.style.top)>=500){
                            if (tank.src.indexOf("right.jpg") != -1) {
                                tank.style.left = (parseInt(tank.style.left) + 10) + "px"
                            } else {
                                tank.src = "right.jpg"
                            }
                        }else if(parseInt(tank.style.top)<=100){
                            if (tank.src.indexOf("right.jpg") != -1) {
                                tank.style.left = (parseInt(tank.style.left) + 10) + "px"
                            } else {
                                tank.src = "right.jpg"
                            }
                        }else{
                            tank.src = "right.jpg"
                        }
                    }else if(parseInt(tank.style.left)==300){
                        if(parseInt(tank.style.top)>=400){
                            if (tank.src.indexOf("right.jpg") != -1) {
                                tank.style.left = (parseInt(tank.style.left) + 10) + "px"
                            } else {
                                tank.src = "right.jpg"
                            }
                        }else if(parseInt(tank.style.top)<=200){
                            if (tank.src.indexOf("right.jpg") != -1) {
                                tank.style.left = (parseInt(tank.style.left) + 10) + "px"
                            } else {
                                tank.src = "right.jpg"
                            }
                        }else{
                            tank.src = "right.jpg"
                        }
                    }else{
                        if (tank.src.indexOf("right.jpg") != -1) {
                            tank.style.left = (parseInt(tank.style.left) + 10) + "px"
                        } else {
                            tank.src = "right.jpg"
                        }
                    }
                }
            }


        }
    </script>
</head>
<body>
<input type="button" value="start move" onkeydown="letmove()">
    <img id="tank" style="left:100px; top:0px " src="up.jpg" height="100" class="tank">
    <img name="wall" style="left:100px; top:200px " src="墙.jpg" height="300" width="100" class="wall">
    <img name="wall" style="left:400px; top:300px " src="墙.jpg" height="100" width="100" class="wall">
    <img src="boom.png" width="10" height="10" id="b" style="position: absolute;left:100px;top:100px;display:none"/>
</body>
</html>